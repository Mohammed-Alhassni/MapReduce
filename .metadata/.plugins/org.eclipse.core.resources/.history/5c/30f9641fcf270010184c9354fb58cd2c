import java.io.FileNotFoundException;
import java.io.IOException;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

public class Mapper {

    public static Map<String, Object> map(ArrayList<String> data) throws FileNotFoundException, IOException {
        Map<String, Object> classAndFeatures = new HashMap<>();
        Map<String, String> featuresMap = new HashMap<>();
        ArrayList<String> words = new ArrayList<>();

        for (int i = 0; i < data.size(); i++) {
            String[] split = data.get(i).split(" |\\.0");
            for (String s : split) {
                words.add(s);
            }
        }

//        System.out.println(words);

        for (int i = 0; i < words.size(); i++) {
            if (words.get(i).replace(" ", "").equals("=")) {
                featuresMap.put(words.get(i - 1), words.get(i + 1));
            }
        }

        featuresMap.put("Samples", words.get(words.size() - 2));
        featuresMap.put("Percentage", words.get(words.size() - 1).replace(")", "").replace("(", ""));
        classAndFeatures.put(words.get(3), featuresMap);

//        System.out.println(featuresMap);
//        System.out.println(classAndFeatures + "\n");

        return classAndFeatures;
    }
}

