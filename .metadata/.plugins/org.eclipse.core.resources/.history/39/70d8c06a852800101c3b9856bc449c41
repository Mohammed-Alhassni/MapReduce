import javax.swing.*;
import javax.swing.table.DefaultTableModel;
import java.io.*;
import java.util.*;

public class CSVViewer {
    public static void main(String[] args) {
    	BuildDataset MainClass= new BuildDataset();
    	
        JFrame frame = new JFrame("CSV Viewer");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        
        // Read CSV file and get data
        String[][] data = readCSV(MainClass.csvPath);
        
        // Column names (modify based on CSV file)
        String[] columns = {"Column 1", "Column 2", "Column 3", "Column 4", "Column 5", "Column 6", "Column 7", "Column 8", "Column 9", "Column 10", "Column 11"};

        // Create a DefaultTableModel with the data
        DefaultTableModel model = new DefaultTableModel(data, columns);
        
        // Create a JTable with the model
        JTable table = new JTable(model);
        
        // Add the table to a JScrollPane
        JScrollPane scrollPane = new JScrollPane(table);
        frame.add(scrollPane);
        
        // Set the size and make the frame visible
        frame.setSize(600, 400);
        frame.setVisible(true);
    }

    // Method to read the CSV file and return the data as a 2D array
    public static String[][] readCSV(String filePath) {
        List<String[]> dataList = new ArrayList<>();
        
        try (BufferedReader br = new BufferedReader(new FileReader(filePath))) {
            String line;
            
            // Read each line from the file
            while ((line = br.readLine()) != null) {
                // Split the line by commas and add it to the data list
                String[] data = line.split(",");
                dataList.add(data);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
        
        // Convert the list to a 2D array
        return dataList.toArray(new String[0][0]);
    }
}
