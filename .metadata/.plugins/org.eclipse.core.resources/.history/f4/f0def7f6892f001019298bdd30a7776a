import javax.swing.*;
import javax.swing.table.DefaultTableModel;
import java.io.*;
import java.util.*;

public class CSVViewer {
    public static void main(String[] args) {
        if (args.length < 1) {
            System.out.println("Please provide the CSV file path as an argument.");
            return;
        }

        String csvPath = args[0];  // Receive CSV path from command line or another class

        JFrame frame = new JFrame("CSV Viewer");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        // Read CSV file and get data
        String[][] data = readCSV(csvPath);

        // You can enhance this to read column names from the CSV header
        String[] columns = {"Column 1", "Column 2", "Column 3", "Column 4", "Column 5", 
                            "Column 6", "Column 7", "Column 8", "Column 9", "Column 10", 
                            "Column 11"};

        DefaultTableModel model = new DefaultTableModel(data, columns);
        JTable table = new JTable(model);
        JScrollPane scrollPane = new JScrollPane(table);
        frame.add(scrollPane);

        frame.setSize(1080, 720); // Adjust size as needed
        frame.setVisible(true);
    }

    public static String[][] readCSV(String filePath) {
        List<String[]> dataList = new ArrayList<>();

        try (BufferedReader br = new BufferedReader(new FileReader(filePath))) {
            String line;

            while ((line = br.readLine()) != null) {
                String[] data = line.split(",");
                dataList.add(data);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }

        return dataList.toArray(new String[0][0]);
    }
}

